var Wt=Object.defineProperty;var _t=(t,a,e)=>a in t?Wt(t,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[a]=e;var ut=(t,a,e)=>_t(t,typeof a!="symbol"?a+"":a,e);import{_ as V,P as Bt,aj as Gt,O as I,ag as k,aE as q,aF as zt,Z as U,aG as Y,z as ct,ak as Z,aH as vt,N as gt,a2 as Nt,a3 as Vt,B as ht,D as dt,n as yt,G as rt,aI as It,aJ as Ot,F as Ft,aK as Ht,I as $t,aw as et,q as Kt,S as jt,aL as Zt,aM as qt,aN as Xt,aO as Ut,aP as Yt,aQ as Jt,aR as at,aS as Qt,aT as ft,aU as te,aV as Ct,aW as Pt,aX as ee,aY as ae,aZ as X,an as re,a_ as ie,am as ne,a$ as xt,b0 as mt,b1 as le,o as Lt,b2 as se,b3 as it,b4 as Tt,b5 as oe,b6 as H,A as $,a7 as ue,b7 as ce,C as ve,b8 as ge,b9 as he,ae as de,p as ye,d as kt,ba as fe,bb as pt,ac as xe,bc as me,r as pe,g as Ae,c as we,f as Se,k as be,X as Me,u as Ce}from"./useDesign-DzGixMSF.js";import{S as At,i as Pe}from"./install-DdL8YHPE.js";import{c as Le}from"./createSeriesDataSimply-CemPvBEY.js";import{d as Te,c as ke,r as De,h as Ee,b as Re,e as We,j as _e,n as wt,i as Be,s as Ge,u as ze,_ as Ne}from"./index-CGewRW_t.js";import{w as Ve}from"./withInstall-Df4KX8Pz.js";var Ie=function(){function t(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return t}(),Oe=function(t){V(a,t);function a(e){var r=t.call(this,e)||this;return r.type="pointer",r}return a.prototype.getDefaultShape=function(){return new Ie},a.prototype.buildPath=function(e,r){var s=Math.cos,i=Math.sin,l=r.r,u=r.width,n=r.angle,c=r.x-s(n)*u*(u>=l/3?1:2),o=r.y-i(n)*u*(u>=l/3?1:2);n=r.angle-Math.PI/2,e.moveTo(c,o),e.lineTo(r.x+s(n)*u,r.y+i(n)*u),e.lineTo(r.x+s(r.angle)*l,r.y+i(r.angle)*l),e.lineTo(r.x-s(n)*u,r.y-i(n)*u),e.lineTo(c,o)},a}(Bt);function Fe(t,a){var e=t.get("center"),r=a.getWidth(),s=a.getHeight(),i=Math.min(r,s),l=k(e[0],a.getWidth()),u=k(e[1],a.getHeight()),n=k(t.get("radius"),i/2);return{cx:l,cy:u,r:n}}function J(t,a){var e=t==null?"":t+"";return a&&(Ht(a)?e=a.replace("{value}",e):$t(a)&&(e=a(t))),e}var He=function(t){V(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=a.type,e}return a.prototype.render=function(e,r,s){this.group.removeAll();var i=e.get(["axisLine","lineStyle","color"]),l=Fe(e,s);this._renderMain(e,r,s,i,l),this._data=e.getData()},a.prototype.dispose=function(){},a.prototype._renderMain=function(e,r,s,i,l){var u=this.group,n=e.get("clockwise"),c=-e.get("startAngle")/180*Math.PI,o=-e.get("endAngle")/180*Math.PI,v=e.getModel("axisLine"),g=v.get("roundCap"),y=g?At:et,h=v.get("show"),d=v.getModel("lineStyle"),f=d.get("width"),m=[c,o];Gt(m,!n),c=m[0],o=m[1];for(var p=o-c,P=c,R=[],D=0;h&&D<i.length;D++){var W=Math.min(Math.max(i[D][0],0),1);o=c+p*W;var E=new y({shape:{startAngle:P,endAngle:o,cx:l.cx,cy:l.cy,clockwise:n,r0:l.r-f,r:l.r},silent:!0});E.setStyle({fill:i[D][1]}),E.setStyle(d.getLineStyle(["color","width"])),R.push(E),P=o}R.reverse(),I(R,function(B){return u.add(B)});var _=function(B){if(B<=0)return i[0][1];var x;for(x=0;x<i.length;x++)if(i[x][0]>=B&&(x===0?0:i[x-1][0])<B)return i[x][1];return i[x-1][1]};this._renderTicks(e,r,s,_,l,c,o,n,f),this._renderTitleAndDetail(e,r,s,_,l),this._renderAnchor(e,l),this._renderPointer(e,r,s,_,l,c,o,n,f)},a.prototype._renderTicks=function(e,r,s,i,l,u,n,c,o){for(var v=this.group,g=l.cx,y=l.cy,h=l.r,d=+e.get("min"),f=+e.get("max"),m=e.getModel("splitLine"),p=e.getModel("axisTick"),P=e.getModel("axisLabel"),R=e.get("splitNumber"),D=p.get("splitNumber"),W=k(m.get("length"),h),E=k(p.get("length"),h),_=u,B=(n-u)/R,x=B/D,C=m.getModel("lineStyle").getLineStyle(),L=p.getModel("lineStyle").getLineStyle(),M=m.get("distance"),b,w,A=0;A<=R;A++){if(b=Math.cos(_),w=Math.sin(_),m.get("show")){var S=M?M+o:o,T=new q({shape:{x1:b*(h-S)+g,y1:w*(h-S)+y,x2:b*(h-W-S)+g,y2:w*(h-W-S)+y},style:C,silent:!0});C.stroke==="auto"&&T.setStyle({stroke:i(A/R)}),v.add(T)}if(P.get("show")){var S=P.get("distance")+M,G=J(zt(A/R*(f-d)+d),P.get("formatter")),z=i(A/R),N=b*(h-W-S)+g,O=w*(h-W-S)+y,K=P.get("rotate"),F=0;K==="radial"?(F=-_+2*Math.PI,F>Math.PI/2&&(F+=Math.PI)):K==="tangential"?F=-_-Math.PI/2:Kt(K)&&(F=K*Math.PI/180),F===0?v.add(new U({style:Y(P,{text:G,x:N,y:O,verticalAlign:w<-.8?"top":w>.8?"bottom":"middle",align:b<-.4?"left":b>.4?"right":"center"},{inheritColor:z}),silent:!0})):v.add(new U({style:Y(P,{text:G,x:N,y:O,verticalAlign:"middle",align:"center"},{inheritColor:z}),silent:!0,originX:N,originY:O,rotation:F}))}if(p.get("show")&&A!==R){var S=p.get("distance");S=S?S+o:o;for(var j=0;j<=D;j++){b=Math.cos(_),w=Math.sin(_);var ot=new q({shape:{x1:b*(h-S)+g,y1:w*(h-S)+y,x2:b*(h-E-S)+g,y2:w*(h-E-S)+y},silent:!0,style:L});L.stroke==="auto"&&ot.setStyle({stroke:i((A+j/D)/R)}),v.add(ot),_+=x}_-=x}else _+=B}},a.prototype._renderPointer=function(e,r,s,i,l,u,n,c,o){var v=this.group,g=this._data,y=this._progressEls,h=[],d=e.get(["pointer","show"]),f=e.getModel("progress"),m=f.get("show"),p=e.getData(),P=p.mapDimension("value"),R=+e.get("min"),D=+e.get("max"),W=[R,D],E=[u,n];function _(x,C){var L=p.getItemModel(x),M=L.getModel("pointer"),b=k(M.get("width"),l.r),w=k(M.get("length"),l.r),A=e.get(["pointer","icon"]),S=M.get("offsetCenter"),T=k(S[0],l.r),G=k(S[1],l.r),z=M.get("keepAspect"),N;return A?N=yt(A,T-b/2,G-w,b,w,null,z):N=new Oe({shape:{angle:-Math.PI/2,width:b,r:w,x:T,y:G}}),N.rotation=-(C+Math.PI/2),N.x=l.cx,N.y=l.cy,N}function B(x,C){var L=f.get("roundCap"),M=L?At:et,b=f.get("overlap"),w=b?f.get("width"):o/p.count(),A=b?l.r-w:l.r-(x+1)*w,S=b?l.r:l.r-x*w,T=new M({shape:{startAngle:u,endAngle:C,cx:l.cx,cy:l.cy,clockwise:c,r0:A,r:S}});return b&&(T.z2=D-p.get(P,x)%D),T}(m||d)&&(p.diff(g).add(function(x){var C=p.get(P,x);if(d){var L=_(x,u);ct(L,{rotation:-((isNaN(+C)?E[0]:Z(C,W,E,!0))+Math.PI/2)},e),v.add(L),p.setItemGraphicEl(x,L)}if(m){var M=B(x,u),b=f.get("clip");ct(M,{shape:{endAngle:Z(C,W,E,b)}},e),v.add(M),vt(e.seriesIndex,p.dataType,x,M),h[x]=M}}).update(function(x,C){var L=p.get(P,x);if(d){var M=g.getItemGraphicEl(C),b=M?M.rotation:u,w=_(x,b);w.rotation=b,gt(w,{rotation:-((isNaN(+L)?E[0]:Z(L,W,E,!0))+Math.PI/2)},e),v.add(w),p.setItemGraphicEl(x,w)}if(m){var A=y[C],S=A?A.shape.endAngle:u,T=B(x,S),G=f.get("clip");gt(T,{shape:{endAngle:Z(L,W,E,G)}},e),v.add(T),vt(e.seriesIndex,p.dataType,x,T),h[x]=T}}).execute(),p.each(function(x){var C=p.getItemModel(x),L=C.getModel("emphasis"),M=L.get("focus"),b=L.get("blurScope"),w=L.get("disabled");if(d){var A=p.getItemGraphicEl(x),S=p.getItemVisual(x,"style"),T=S.fill;if(A instanceof Nt){var G=A.style;A.useStyle(Vt({image:G.image,x:G.x,y:G.y,width:G.width,height:G.height},S))}else A.useStyle(S),A.type!=="pointer"&&A.setColor(T);A.setStyle(C.getModel(["pointer","itemStyle"]).getItemStyle()),A.style.fill==="auto"&&A.setStyle("fill",i(Z(p.get(P,x),W,[0,1],!0))),A.z2EmphasisLift=0,ht(A,C),dt(A,M,b,w)}if(m){var z=h[x];z.useStyle(p.getItemVisual(x,"style")),z.setStyle(C.getModel(["progress","itemStyle"]).getItemStyle()),z.z2EmphasisLift=0,ht(z,C),dt(z,M,b,w)}}),this._progressEls=h)},a.prototype._renderAnchor=function(e,r){var s=e.getModel("anchor"),i=s.get("show");if(i){var l=s.get("size"),u=s.get("icon"),n=s.get("offsetCenter"),c=s.get("keepAspect"),o=yt(u,r.cx-l/2+k(n[0],r.r),r.cy-l/2+k(n[1],r.r),l,l,null,c);o.z2=s.get("showAbove")?1:0,o.setStyle(s.getModel("itemStyle").getItemStyle()),this.group.add(o)}},a.prototype._renderTitleAndDetail=function(e,r,s,i,l){var u=this,n=e.getData(),c=n.mapDimension("value"),o=+e.get("min"),v=+e.get("max"),g=new rt,y=[],h=[],d=e.isAnimationEnabled(),f=e.get(["pointer","showAbove"]);n.diff(this._data).add(function(m){y[m]=new U({silent:!0}),h[m]=new U({silent:!0})}).update(function(m,p){y[m]=u._titleEls[p],h[m]=u._detailEls[p]}).execute(),n.each(function(m){var p=n.getItemModel(m),P=n.get(c,m),R=new rt,D=i(Z(P,[o,v],[0,1],!0)),W=p.getModel("title");if(W.get("show")){var E=W.get("offsetCenter"),_=l.cx+k(E[0],l.r),B=l.cy+k(E[1],l.r),x=y[m];x.attr({z2:f?0:2,style:Y(W,{x:_,y:B,text:n.getName(m),align:"center",verticalAlign:"middle"},{inheritColor:D})}),R.add(x)}var C=p.getModel("detail");if(C.get("show")){var L=C.get("offsetCenter"),M=l.cx+k(L[0],l.r),b=l.cy+k(L[1],l.r),w=k(C.get("width"),l.r),A=k(C.get("height"),l.r),S=e.get(["progress","show"])?n.getItemVisual(m,"style").fill:D,x=h[m],T=C.get("formatter");x.attr({z2:f?0:2,style:Y(C,{x:M,y:b,text:J(P,T),width:isNaN(w)?null:w,height:isNaN(A)?null:A,align:"center",verticalAlign:"middle"},{inheritColor:S})}),It(x,{normal:C},P,function(z){return J(z,T)}),d&&Ot(x,m,n,e,{getFormattedLabel:function(z,N,O,K,F,j){return J(j?j.interpolatedValue:P,T)}}),R.add(x)}g.add(R)}),this.group.add(g),this._titleEls=y,this._detailEls=h},a.type="gauge",a}(Ft),$e=function(t){V(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=a.type,e.visualStyleAccessPath="itemStyle",e}return a.prototype.getInitialData=function(e,r){return Le(this,["value"])},a.type="series.gauge",a.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},a}(jt);function Ke(t){t.registerChartView(He),t.registerSeriesModel($e)}var je=function(t){V(a,t);function a(){return t!==null&&t.apply(this,arguments)||this}return a.prototype.makeElOption=function(e,r,s,i,l){var u=s.axis;u.dim==="angle"&&(this.animationThreshold=Math.PI/18);var n=u.polar,c=n.getOtherAxis(u),o=c.getExtent(),v=u.dataToCoord(r),g=i.get("type");if(g&&g!=="none"){var y=Zt(i),h=qe[g](u,n,v,o);h.style=y,e.graphicKey=h.type,e.pointer=h}var d=i.get(["label","margin"]),f=Ze(r,s,i,n,d);qt(e,s,i,l,f)},a}(Xt);function Ze(t,a,e,r,s){var i=a.axis,l=i.dataToCoord(t),u=r.getAngleAxis().getExtent()[0];u=u/180*Math.PI;var n=r.getRadiusAxis().getExtent(),c,o,v;if(i.dim==="radius"){var g=te();Ut(g,g,u),Yt(g,g,[r.cx,r.cy]),c=Jt([l,-s],g);var y=a.getModel("axisLabel").get("rotate")||0,h=at.innerTextLayout(u,y*Math.PI/180,-1);o=h.textAlign,v=h.textVerticalAlign}else{var d=n[1];c=r.coordToPoint([d+s,l]);var f=r.cx,m=r.cy;o=Math.abs(c[0]-f)/d<.3?"center":c[0]>f?"left":"right",v=Math.abs(c[1]-m)/d<.3?"middle":c[1]>m?"top":"bottom"}return{position:c,align:o,verticalAlign:v}}var qe={line:function(t,a,e,r){return t.dim==="angle"?{type:"Line",shape:Qt(a.coordToPoint([r[0],e]),a.coordToPoint([r[1],e]))}:{type:"Circle",shape:{cx:a.cx,cy:a.cy,r:e}}},shadow:function(t,a,e,r){var s=Math.max(1,t.getBandWidth()),i=Math.PI/180;return t.dim==="angle"?{type:"Sector",shape:ft(a.cx,a.cy,r[0],r[1],(-e-s/2)*i,(-e+s/2)*i)}:{type:"Sector",shape:ft(a.cx,a.cy,e-s/2,e+s/2,0,Math.PI*2)}}},Xe=function(t){V(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=a.type,e}return a.prototype.findAxisModel=function(e){var r,s=this.ecModel;return s.eachComponent(e,function(i){i.getCoordSysModel()===this&&(r=i)},this),r},a.type="polar",a.dependencies=["radiusAxis","angleAxis"],a.defaultOption={z:0,center:["50%","50%"],radius:"80%"},a}(Ct),nt=function(t){V(a,t);function a(){return t!==null&&t.apply(this,arguments)||this}return a.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Pt).models[0]},a.type="polarAxis",a}(Ct);ee(nt,ae);var Ue=function(t){V(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=a.type,e}return a.type="angleAxis",a}(nt),Ye=function(t){V(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=a.type,e}return a.type="radiusAxis",a}(nt),lt=function(t){V(a,t);function a(e,r){return t.call(this,"radius",e,r)||this}return a.prototype.pointToData=function(e,r){return this.polar.pointToData(e,r)[this.dim==="radius"?0:1]},a}(X);lt.prototype.dataToRadius=X.prototype.dataToCoord;lt.prototype.radiusToData=X.prototype.coordToData;var Je=re(),st=function(t){V(a,t);function a(e,r){return t.call(this,"angle",e,r||[0,360])||this}return a.prototype.pointToData=function(e,r){return this.polar.pointToData(e,r)[this.dim==="radius"?0:1]},a.prototype.calculateCategoryInterval=function(){var e=this,r=e.getLabelModel(),s=e.scale,i=s.getExtent(),l=s.count();if(i[1]-i[0]<1)return 0;var u=i[0],n=e.dataToCoord(u+1)-e.dataToCoord(u),c=Math.abs(n),o=ie(u==null?"":u+"",r.getFont(),"center","top"),v=Math.max(o.height,7),g=v/c;isNaN(g)&&(g=1/0);var y=Math.max(0,Math.floor(g)),h=Je(e.model),d=h.lastAutoInterval,f=h.lastTickCount;return d!=null&&f!=null&&Math.abs(d-y)<=1&&Math.abs(f-l)<=1&&d>y?y=d:(h.lastTickCount=l,h.lastAutoInterval=y),y},a}(X);st.prototype.dataToAngle=X.prototype.dataToCoord;st.prototype.angleToData=X.prototype.coordToData;var Dt=["radius","angle"],Qe=function(){function t(a){this.dimensions=Dt,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new lt,this._angleAxis=new st,this.axisPointerEnabled=!0,this.name=a||"",this._radiusAxis.polar=this._angleAxis.polar=this}return t.prototype.containPoint=function(a){var e=this.pointToCoord(a);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},t.prototype.containData=function(a){return this._radiusAxis.containData(a[0])&&this._angleAxis.containData(a[1])},t.prototype.getAxis=function(a){var e="_"+a+"Axis";return this[e]},t.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},t.prototype.getAxesByScale=function(a){var e=[],r=this._angleAxis,s=this._radiusAxis;return r.scale.type===a&&e.push(r),s.scale.type===a&&e.push(s),e},t.prototype.getAngleAxis=function(){return this._angleAxis},t.prototype.getRadiusAxis=function(){return this._radiusAxis},t.prototype.getOtherAxis=function(a){var e=this._angleAxis;return a===e?this._radiusAxis:e},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},t.prototype.getTooltipAxes=function(a){var e=a!=null&&a!=="auto"?this.getAxis(a):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},t.prototype.dataToPoint=function(a,e){return this.coordToPoint([this._radiusAxis.dataToRadius(a[0],e),this._angleAxis.dataToAngle(a[1],e)])},t.prototype.pointToData=function(a,e){var r=this.pointToCoord(a);return[this._radiusAxis.radiusToData(r[0],e),this._angleAxis.angleToData(r[1],e)]},t.prototype.pointToCoord=function(a){var e=a[0]-this.cx,r=a[1]-this.cy,s=this.getAngleAxis(),i=s.getExtent(),l=Math.min(i[0],i[1]),u=Math.max(i[0],i[1]);s.inverse?l=u-360:u=l+360;var n=Math.sqrt(e*e+r*r);e/=n,r/=n;for(var c=Math.atan2(-r,e)/Math.PI*180,o=c<l?1:-1;c<l||c>u;)c+=o*360;return[n,c]},t.prototype.coordToPoint=function(a){var e=a[0],r=a[1]/180*Math.PI,s=Math.cos(r)*e+this.cx,i=-Math.sin(r)*e+this.cy;return[s,i]},t.prototype.getArea=function(){var a=this.getAngleAxis(),e=this.getRadiusAxis(),r=e.getExtent().slice();r[0]>r[1]&&r.reverse();var s=a.getExtent(),i=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:r[0],r:r[1],startAngle:-s[0]*i,endAngle:-s[1]*i,clockwise:a.inverse,contain:function(l,u){var n=l-this.cx,c=u-this.cy,o=n*n+c*c-1e-4,v=this.r,g=this.r0;return o<=v*v&&o>=g*g}}},t.prototype.convertToPixel=function(a,e,r){var s=St(e);return s===this?this.dataToPoint(r):null},t.prototype.convertFromPixel=function(a,e,r){var s=St(e);return s===this?this.pointToData(r):null},t}();function St(t){var a=t.seriesModel,e=t.polarModel;return e&&e.coordinateSystem||a&&a.coordinateSystem}const ta=Qe;function ea(t,a,e){var r=a.get("center"),s=e.getWidth(),i=e.getHeight();t.cx=k(r[0],s),t.cy=k(r[1],i);var l=t.getRadiusAxis(),u=Math.min(s,i)/2,n=a.get("radius");n==null?n=[0,"100%"]:ne(n)||(n=[0,n]);var c=[k(n[0],u),k(n[1],u)];l.inverse?l.setExtent(c[1],c[0]):l.setExtent(c[0],c[1])}function aa(t,a){var e=this,r=e.getAngleAxis(),s=e.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),s.scale.setExtent(1/0,-1/0),t.eachSeries(function(u){if(u.coordinateSystem===e){var n=u.getData();I(xt(n,"radius"),function(c){s.scale.unionExtentFromData(n,c)}),I(xt(n,"angle"),function(c){r.scale.unionExtentFromData(n,c)})}}),mt(r.scale,r.model),mt(s.scale,s.model),r.type==="category"&&!r.onBand){var i=r.getExtent(),l=360/r.scale.count();r.inverse?i[1]+=l:i[1]-=l,r.setExtent(i[0],i[1])}}function ra(t){return t.mainType==="angleAxis"}function bt(t,a){var e;if(t.type=a.get("type"),t.scale=le(a),t.onBand=a.get("boundaryGap")&&t.type==="category",t.inverse=a.get("inverse"),ra(a)){t.inverse=t.inverse!==a.get("clockwise");var r=a.get("startAngle"),s=(e=a.get("endAngle"))!==null&&e!==void 0?e:r+(t.inverse?-360:360);t.setExtent(r,s)}a.axis=t,t.model=a}var ia={dimensions:Dt,create:function(t,a){var e=[];return t.eachComponent("polar",function(r,s){var i=new ta(s+"");i.update=aa;var l=i.getRadiusAxis(),u=i.getAngleAxis(),n=r.findAxisModel("radiusAxis"),c=r.findAxisModel("angleAxis");bt(l,n),bt(u,c),ea(i,r,a),e.push(i),r.coordinateSystem=i,i.model=r}),t.eachSeries(function(r){if(r.get("coordinateSystem")==="polar"){var s=r.getReferringComponents("polar",Pt).models[0];r.coordinateSystem=s.coordinateSystem}}),e}},na=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function Q(t,a,e){a[1]>a[0]&&(a=a.slice().reverse());var r=t.coordToPoint([a[0],e]),s=t.coordToPoint([a[1],e]);return{x1:r[0],y1:r[1],x2:s[0],y2:s[1]}}function tt(t){var a=t.getRadiusAxis();return a.inverse?0:1}function Mt(t){var a=t[0],e=t[t.length-1];a&&e&&Math.abs(Math.abs(a.coord-e.coord)-360)<1e-4&&t.pop()}var la=function(t){V(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=a.type,e.axisPointerClass="PolarAxisPointer",e}return a.prototype.render=function(e,r){if(this.group.removeAll(),!!e.get("show")){var s=e.axis,i=s.polar,l=i.getRadiusAxis().getExtent(),u=s.getTicksCoords(),n=s.getMinorTicksCoords(),c=Lt(s.getViewLabels(),function(o){o=se(o);var v=s.scale,g=v.type==="ordinal"?v.getRawOrdinalNumber(o.tickValue):o.tickValue;return o.coord=s.dataToCoord(g),o});Mt(c),Mt(u),I(na,function(o){e.get([o,"show"])&&(!s.scale.isBlank()||o==="axisLine")&&sa[o](this.group,e,i,u,n,l,c)},this)}},a.type="angleAxis",a}(it),sa={axisLine:function(t,a,e,r,s,i){var l=a.getModel(["axisLine","lineStyle"]),u=e.getAngleAxis(),n=Math.PI/180,c=u.getExtent(),o=tt(e),v=o?0:1,g,y=Math.abs(c[1]-c[0])===360?"Circle":"Arc";i[v]===0?g=new Tt[y]({shape:{cx:e.cx,cy:e.cy,r:i[o],startAngle:-c[0]*n,endAngle:-c[1]*n,clockwise:u.inverse},style:l.getLineStyle(),z2:1,silent:!0}):g=new oe({shape:{cx:e.cx,cy:e.cy,r:i[o],r0:i[v]},style:l.getLineStyle(),z2:1,silent:!0}),g.style.fill=null,t.add(g)},axisTick:function(t,a,e,r,s,i){var l=a.getModel("axisTick"),u=(l.get("inside")?-1:1)*l.get("length"),n=i[tt(e)],c=Lt(r,function(o){return new q({shape:Q(e,[n,n+u],o.coord)})});t.add(H(c,{style:$(l.getModel("lineStyle").getLineStyle(),{stroke:a.get(["axisLine","lineStyle","color"])})}))},minorTick:function(t,a,e,r,s,i){if(s.length){for(var l=a.getModel("axisTick"),u=a.getModel("minorTick"),n=(l.get("inside")?-1:1)*u.get("length"),c=i[tt(e)],o=[],v=0;v<s.length;v++)for(var g=0;g<s[v].length;g++)o.push(new q({shape:Q(e,[c,c+n],s[v][g].coord)}));t.add(H(o,{style:$(u.getModel("lineStyle").getLineStyle(),$(l.getLineStyle(),{stroke:a.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(t,a,e,r,s,i,l){var u=a.getCategories(!0),n=a.getModel("axisLabel"),c=n.get("margin"),o=a.get("triggerEvent");I(l,function(v,g){var y=n,h=v.tickValue,d=i[tt(e)],f=e.coordToPoint([d+c,v.coord]),m=e.cx,p=e.cy,P=Math.abs(f[0]-m)/d<.3?"center":f[0]>m?"left":"right",R=Math.abs(f[1]-p)/d<.3?"middle":f[1]>p?"top":"bottom";if(u&&u[h]){var D=u[h];ue(D)&&D.textStyle&&(y=new ce(D.textStyle,n,n.ecModel))}var W=new U({silent:at.isLabelSilent(a),style:Y(y,{x:f[0],y:f[1],fill:y.getTextColor()||a.get(["axisLine","lineStyle","color"]),text:v.formattedLabel,align:P,verticalAlign:R})});if(t.add(W),o){var E=at.makeAxisEventDataBase(a);E.targetType="axisLabel",E.value=v.rawLabel,ve(W).eventData=E}},this)},splitLine:function(t,a,e,r,s,i){var l=a.getModel("splitLine"),u=l.getModel("lineStyle"),n=u.get("color"),c=0;n=n instanceof Array?n:[n];for(var o=[],v=0;v<r.length;v++){var g=c++%n.length;o[g]=o[g]||[],o[g].push(new q({shape:Q(e,i,r[v].coord)}))}for(var v=0;v<o.length;v++)t.add(H(o[v],{style:$({stroke:n[v%n.length]},u.getLineStyle()),silent:!0,z:a.get("z")}))},minorSplitLine:function(t,a,e,r,s,i){if(s.length){for(var l=a.getModel("minorSplitLine"),u=l.getModel("lineStyle"),n=[],c=0;c<s.length;c++)for(var o=0;o<s[c].length;o++)n.push(new q({shape:Q(e,i,s[c][o].coord)}));t.add(H(n,{style:u.getLineStyle(),silent:!0,z:a.get("z")}))}},splitArea:function(t,a,e,r,s,i){if(r.length){var l=a.getModel("splitArea"),u=l.getModel("areaStyle"),n=u.get("color"),c=0;n=n instanceof Array?n:[n];for(var o=[],v=Math.PI/180,g=-r[0].coord*v,y=Math.min(i[0],i[1]),h=Math.max(i[0],i[1]),d=a.get("clockwise"),f=1,m=r.length;f<=m;f++){var p=f===m?r[0].coord:r[f].coord,P=c++%n.length;o[P]=o[P]||[],o[P].push(new et({shape:{cx:e.cx,cy:e.cy,r0:y,r:h,startAngle:g,endAngle:-p*v,clockwise:d},silent:!0})),g=-p*v}for(var f=0;f<o.length;f++)t.add(H(o[f],{style:$({fill:n[f%n.length]},u.getAreaStyle()),silent:!0}))}}},oa=["axisLine","axisTickLabel","axisName"],ua=["splitLine","splitArea","minorSplitLine"],ca=function(t){V(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=a.type,e.axisPointerClass="PolarAxisPointer",e}return a.prototype.render=function(e,r){if(this.group.removeAll(),!!e.get("show")){var s=this._axisGroup,i=this._axisGroup=new rt;this.group.add(i);var l=e.axis,u=l.polar,n=u.getAngleAxis(),c=l.getTicksCoords(),o=l.getMinorTicksCoords(),v=n.getExtent()[0],g=l.getExtent(),y=ga(u,e,v),h=new at(e,y);I(oa,h.add,h),i.add(h.getGroup()),ge(s,i,e),I(ua,function(d){e.get([d,"show"])&&!l.scale.isBlank()&&va[d](this.group,e,u,v,g,c,o)},this)}},a.type="radiusAxis",a}(it),va={splitLine:function(t,a,e,r,s,i){var l=a.getModel("splitLine"),u=l.getModel("lineStyle"),n=u.get("color"),c=0,o=e.getAngleAxis(),v=Math.PI/180,g=o.getExtent(),y=Math.abs(g[1]-g[0])===360?"Circle":"Arc";n=n instanceof Array?n:[n];for(var h=[],d=0;d<i.length;d++){var f=c++%n.length;h[f]=h[f]||[],h[f].push(new Tt[y]({shape:{cx:e.cx,cy:e.cy,r:Math.max(i[d].coord,0),startAngle:-g[0]*v,endAngle:-g[1]*v,clockwise:o.inverse}}))}for(var d=0;d<h.length;d++)t.add(H(h[d],{style:$({stroke:n[d%n.length],fill:null},u.getLineStyle()),silent:!0}))},minorSplitLine:function(t,a,e,r,s,i,l){if(l.length){for(var u=a.getModel("minorSplitLine"),n=u.getModel("lineStyle"),c=[],o=0;o<l.length;o++)for(var v=0;v<l[o].length;v++)c.push(new he({shape:{cx:e.cx,cy:e.cy,r:l[o][v].coord}}));t.add(H(c,{style:$({fill:null},n.getLineStyle()),silent:!0}))}},splitArea:function(t,a,e,r,s,i){if(i.length){var l=a.getModel("splitArea"),u=l.getModel("areaStyle"),n=u.get("color"),c=0;n=n instanceof Array?n:[n];for(var o=[],v=i[0].coord,g=1;g<i.length;g++){var y=c++%n.length;o[y]=o[y]||[],o[y].push(new et({shape:{cx:e.cx,cy:e.cy,r0:v,r:i[g].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),v=i[g].coord}for(var g=0;g<o.length;g++)t.add(H(o[g],{style:$({fill:n[g%n.length]},u.getAreaStyle()),silent:!0}))}}};function ga(t,a,e){return{position:[t.cx,t.cy],rotation:e/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:a.getModel("axisLabel").get("rotate"),z2:1}}function Et(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function Rt(t,a){return a.dim+t.model.componentIndex}function ha(t,a,e){var r={},s=da(de(a.getSeriesByType(t),function(i){return!a.isSeriesFiltered(i)&&i.coordinateSystem&&i.coordinateSystem.type==="polar"}));a.eachSeriesByType(t,function(i){if(i.coordinateSystem.type==="polar"){var l=i.getData(),u=i.coordinateSystem,n=u.getBaseAxis(),c=Rt(u,n),o=Et(i),v=s[c][o],g=v.offset,y=v.width,h=u.getOtherAxis(n),d=i.coordinateSystem.cx,f=i.coordinateSystem.cy,m=i.get("barMinHeight")||0,p=i.get("barMinAngle")||0;r[o]=r[o]||[];for(var P=l.mapDimension(h.dim),R=l.mapDimension(n.dim),D=ye(l,P),W=n.dim!=="radius"||!i.get("roundCap",!0),E=h.model,_=E.get("startValue"),B=h.dataToCoord(_||0),x=0,C=l.count();x<C;x++){var L=l.get(P,x),M=l.get(R,x),b=L>=0?"p":"n",w=B;D&&(r[o][M]||(r[o][M]={p:B,n:B}),w=r[o][M][b]);var A=void 0,S=void 0,T=void 0,G=void 0;if(h.dim==="radius"){var z=h.dataToCoord(L)-B,N=n.dataToCoord(M);Math.abs(z)<m&&(z=(z<0?-1:1)*m),A=w,S=w+z,T=N-g,G=T-y,D&&(r[o][M][b]=S)}else{var O=h.dataToCoord(L,W)-B,K=n.dataToCoord(M);Math.abs(O)<p&&(O=(O<0?-1:1)*p),A=K+g,S=A+y,T=w,G=w+O,D&&(r[o][M][b]=G)}l.setItemLayout(x,{cx:d,cy:f,r0:A,r:S,startAngle:-T*Math.PI/180,endAngle:-G*Math.PI/180,clockwise:T>=G})}}})}function da(t){var a={};I(t,function(r,s){var i=r.getData(),l=r.coordinateSystem,u=l.getBaseAxis(),n=Rt(l,u),c=u.getExtent(),o=u.type==="category"?u.getBandWidth():Math.abs(c[1]-c[0])/i.count(),v=a[n]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},g=v.stacks;a[n]=v;var y=Et(r);g[y]||v.autoWidthCount++,g[y]=g[y]||{width:0,maxWidth:0};var h=k(r.get("barWidth"),o),d=k(r.get("barMaxWidth"),o),f=r.get("barGap"),m=r.get("barCategoryGap");h&&!g[y].width&&(h=Math.min(v.remainedWidth,h),g[y].width=h,v.remainedWidth-=h),d&&(g[y].maxWidth=d),f!=null&&(v.gap=f),m!=null&&(v.categoryGap=m)});var e={};return I(a,function(r,s){e[s]={};var i=r.stacks,l=r.bandWidth,u=k(r.categoryGap,l),n=k(r.gap,1),c=r.remainedWidth,o=r.autoWidthCount,v=(c-u)/(o+(o-1)*n);v=Math.max(v,0),I(i,function(d,f){var m=d.maxWidth;m&&m<v&&(m=Math.min(m,c),d.width&&(m=Math.min(m,d.width)),c-=m,d.width=m,o--)}),v=(c-u)/(o+(o-1)*n),v=Math.max(v,0);var g=0,y;I(i,function(d,f){d.width||(d.width=v),y=d,g+=d.width*(1+n)}),y&&(g-=y.width*n);var h=-g/2;I(i,function(d,f){e[s][f]=e[s][f]||{offset:h,width:d.width},h+=d.width*(1+n)})}),e}var ya={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},fa={splitNumber:5},xa=function(t){V(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.type=a.type,e}return a.type="polar",a}(me);function ma(t){kt(fe),it.registerAxisPointerClass("PolarAxisPointer",je),t.registerCoordinateSystem("polar",ia),t.registerComponentModel(Xe),t.registerComponentView(xa),pt(t,"angle",Ue,ya),pt(t,"radius",Ye,fa),t.registerComponentView(la),t.registerComponentView(ca),t.registerLayout(xe(ha,"bar"))}function pa(t,a,e){return a&&Object.keys(a).length>0?[{type:"bar",smooth:!0,animationDelay:500,animationDuration:1500,data:[{value:(t==null?void 0:t.charRate)||a[0]/a[1]*100}],barGap:"-100%",coordinateSystem:"polar",roundCap:!0,z:2},{type:"bar",smooth:!0,animationDelay:500,animationDuration:1500,data:[{value:100}],barGap:"-100%",coordinateSystem:"polar",roundCap:!0,z:1},{name:t==null?void 0:t.title,smooth:!0,animationDelay:500,animationDuration:1500,type:"gauge",startAngle:225,endAngle:-45,axisLine:{show:!1},splitLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},splitLabel:{show:!1},pointer:{show:!1},title:{offsetCenter:[0,"-20%"]},detail:{valueAnimation:!0},data:e?e(a):[{value:a[0],detail:{offsetCenter:(()=>{const r=a[0].toString().length-1;return[[-((t==null?void 0:t.width)||300)/10,-((t==null?void 0:t.width)||300)/7.5,-((t==null?void 0:t.width)||300)/6.6,-((t==null?void 0:t.width)||300)/5.5,-((t==null?void 0:t.width)||300)/5][r],0]})(),fontWeight:400,fontSize:a[0].toString().length-1<3?((t==null?void 0:t.width)||300)/4:((t==null?void 0:t.width)||300)/8}},{value:a[1],detail:{offsetCenter:(()=>{const r=a[0].toString().length-1;return[[((t==null?void 0:t.width)||300)/12,((t==null?void 0:t.width)||300)/6,((t==null?void 0:t.width)||300)/4.8,((t==null?void 0:t.width)||300)/5.5,((t==null?void 0:t.width)||300)/6][r],8]})(),fontWeight:350,fontSize:a[0].toString().length-1<3?((t==null?void 0:t.width)||300)/7:((t==null?void 0:t.width)||300)/8,formatter:function(r){return`/${r}`}}}]}]:[{type:"gauge",progress:{show:!0,width:8},axisLine:{show:!0,lineStyle:{width:8}},axisTick:{show:!1},splitLine:{length:5,distance:2,lineStyle:{width:1}},axisLabel:{distance:5,fontSize:12},title:{show:!0,fontSize:20,offsetCenter:[0,"125%"]},anchor:{show:!0,showAbove:!0,size:5,itemStyle:{borderWidth:15}},pointer:{show:!0,showAbove:!0},detail:{valueAnimation:!0,fontSize:22,offsetCenter:[0,"85%"],formatter:function(r){return r+"%"}},smooth:!0,animationDelay:500,animationDuration:2e3,data:a}]}function Aa(t){return t!=null&&t.title?[{text:t==null?void 0:t.title,bottom:"5",x:"center",backgroundColor:"white",borderWidth:1,borderRadius:5,padding:[((t==null?void 0:t.width)||300)/20,((t==null?void 0:t.width)||300)/7.5],textStyle:{fontWeight:"normal",fontSize:((t==null?void 0:t.width)||300)/10}}]:[]}class wa{constructor({options:a,dataStas:e,dataFormat:r}){ut(this,"option");this.option={toolbox:Ae(a),title:Aa(a),angleAxis:{show:!1,max:100*360/270,type:"value",startAngle:225,splitLine:{show:!1}},barMaxWidth:6,radiusAxis:{show:!1,type:"category"},polar:{center:["50%","50%"],radius:((a==null?void 0:a.width)||300)*.8},series:pa(a,e,r)}}}function Sa(t){const{data:a}=t,e=new wa({options:t.params,dataStas:a,dataFormat:t.dataFormat}).option;return pe({},e,t.options)}const ba=["id"],Ma=Te({__name:"index",props:{id:{type:String,default:"GuageChart",require:!0},height:{type:String,default:"300px"},width:{type:String,default:"300px"},dataFormat:{type:Function,default:null},className:{type:String,default:null},options:{type:Object,default:()=>({})},data:{type:Array,default:()=>[]},params:{type:Object,default:()=>({})},loading:{type:Boolean,default:!1}},emits:we,setup(t,{emit:a}){kt([be,Me,ma,Ke,Pe]);const e=a,r=t,s=ke(()=>Sa(r)),i=De(null),{chart:l}=Se(i,s.value,r.data,e,r.loading);Ee(()=>{l.value.setOption(s.value)});const{getPrefixCls:u}=Ce(),n=u("gauge");return(c,o)=>(Re(),We("div",{class:wt([`${ze(n)}`])},[_e("div",{id:t.id,class:wt(t.className),style:Be({height:t.height,width:t.width}),ref_key:"gaugeChartRef",ref:i},null,14,ba),Ge(c.$slots,"content",{},void 0,!0)],2))}}),Ca=Ne(Ma,[["__scopeId","data-v-81fe73da"]]),Ra=Ve(Ca);export{Ra as v};
