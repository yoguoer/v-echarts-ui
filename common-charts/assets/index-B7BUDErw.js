var Et=Object.defineProperty;var It=(i,a,t)=>a in i?Et(i,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[a]=t;var rt=(i,a,t)=>It(i,typeof a!="symbol"?a+"":a,t);import{T as Rt,s as Gt}from"./index-DAtyrCpe.js";import{_ as J,G as _t,n as it,S as Vt,o as et,p as K,q as kt,s as U,t as nt,P as wt,v as Ft,w as ot,x as st,z as Bt,A as lt,B as ut,C as X,D as vt,E as ht,F as Y,H as ft,I as x,Z as zt,J as Ht,K as $t,L as jt,M as Mt,N as ct,O as Lt,Q as Wt,R as gt,T as Ut,U as qt,V as Jt,r as Zt,b as Qt,g as Kt,a as Xt,e as Q,W as Yt,y as xt,c as ta,d as aa,f as ea,X as ra,j as ia,k as na,h as oa,l as sa,m as la,u as ua}from"./useDesign-jPeGL5oW.js";import{c as va,g as ha,a as fa,b as ca,d as ga,e as pa}from"./dataSample-bQ4sSG-L.js";import{S as ma,a as Pt,i as ya}from"./installMarkPoint-CAtSYxcF.js";import{d as da,c as ba,r as Sa,h as Da,b as _a,e as ka,f as wa,i as pt,j as La,n as mt,u as Pa,_ as Aa}from"./index-PWaRPkkw.js";import{w as Ca}from"./withInstall-Df4KX8Pz.js";var Ta=function(i){J(a,i);function a(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=a.type,t.hasSymbolVisual=!0,t}return a.prototype.getInitialData=function(t){return va(null,this,{useEncodeDefaulter:!0})},a.prototype.getLegendIcon=function(t){var e=new _t,o=it("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);e.add(o),o.setStyle(t.lineStyle);var n=this.getData().getVisual("symbol"),r=this.getData().getVisual("symbolRotate"),l=n==="none"?"circle":n,u=t.itemHeight*.8,s=it(l,(t.itemWidth-u)/2,(t.itemHeight-u)/2,u,u,t.itemStyle.fill);e.add(s),s.setStyle(t.itemStyle);var h=t.iconRotate==="inherit"?r:t.iconRotate||0;return s.rotation=h*Math.PI/180,s.setOrigin([t.itemWidth/2,t.itemHeight/2]),l.indexOf("empty")>-1&&(s.style.stroke=s.style.fill,s.style.fill="#fff",s.style.lineWidth=2),e},a.type="series.line",a.dependencies=["grid","polar"],a.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},a}(Vt);function At(i,a,t){var e=i.getBaseAxis(),o=i.getOtherAxis(e),n=Oa(o,t),r=e.dim,l=o.dim,u=a.mapDimension(l),s=a.mapDimension(r),h=l==="x"||l==="radius"?1:0,v=et(i.dimensions,function(y){return a.mapDimension(y)}),g=!1,f=a.getCalculationInfo("stackResultDimension");return K(a,v[0])&&(g=!0,v[0]=f),K(a,v[1])&&(g=!0,v[1]=f),{dataDimsForPoint:v,valueStart:n,valueAxisDim:l,baseAxisDim:r,stacked:!!g,valueDim:u,baseDim:s,baseDataOffset:h,stackedOverDimension:a.getCalculationInfo("stackedOverDimension")}}function Oa(i,a){var t=0,e=i.scale.getExtent();return a==="start"?t=e[0]:a==="end"?t=e[1]:kt(a)&&!isNaN(a)?t=a:e[0]>0?t=e[0]:e[1]<0&&(t=e[1]),t}function Ct(i,a,t,e){var o=NaN;i.stacked&&(o=t.get(t.getCalculationInfo("stackedOverDimension"),e)),isNaN(o)&&(o=i.valueStart);var n=i.baseDataOffset,r=[];return r[n]=t.get(i.baseDim,e),r[1-n]=o,a.dataToPoint(r)}function Na(i,a){var t=[];return a.diff(i).add(function(e){t.push({cmd:"+",idx:e})}).update(function(e,o){t.push({cmd:"=",idx:o,idx1:e})}).remove(function(e){t.push({cmd:"-",idx:e})}).execute(),t}function Ea(i,a,t,e,o,n,r,l){for(var u=Na(i,a),s=[],h=[],v=[],g=[],f=[],y=[],m=[],b=At(o,a,r),c=i.getLayout("points")||[],p=a.getLayout("points")||[],d=0;d<u.length;d++){var k=u[d],A=!0,S=void 0,D=void 0;switch(k.cmd){case"=":S=k.idx*2,D=k.idx1*2;var L=c[S],w=c[S+1],C=p[D],P=p[D+1];(isNaN(L)||isNaN(w))&&(L=C,w=P),s.push(L,w),h.push(C,P),v.push(t[S],t[S+1]),g.push(e[D],e[D+1]),m.push(a.getRawIndex(k.idx1));break;case"+":var _=k.idx,T=b.dataDimsForPoint,R=o.dataToPoint([a.get(T[0],_),a.get(T[1],_)]);D=_*2,s.push(R[0],R[1]),h.push(p[D],p[D+1]);var G=Ct(b,o,a,_);v.push(G[0],G[1]),g.push(e[D],e[D+1]),m.push(a.getRawIndex(_));break;case"-":A=!1}A&&(f.push(k),y.push(y.length))}y.sort(function(Z,I){return m[Z]-m[I]});for(var E=s.length,B=U(E),N=U(E),O=U(E),z=U(E),H=[],d=0;d<y.length;d++){var q=y[d],V=d*2,F=q*2;B[V]=s[F],B[V+1]=s[F+1],N[V]=h[F],N[V+1]=h[F+1],O[V]=v[F],O[V+1]=v[F+1],z[V]=g[F],z[V+1]=g[F+1],H[d]=f[q]}return{current:B,next:N,stackedOnCurrent:O,stackedOnNext:z,status:H}}var $=Math.min,j=Math.max;function W(i,a){return isNaN(i)||isNaN(a)}function at(i,a,t,e,o,n,r,l,u){for(var s,h,v,g,f,y,m=t,b=0;b<e;b++){var c=a[m*2],p=a[m*2+1];if(m>=o||m<0)break;if(W(c,p)){if(u){m+=n;continue}break}if(m===t)i[n>0?"moveTo":"lineTo"](c,p),v=c,g=p;else{var d=c-s,k=p-h;if(d*d+k*k<.5){m+=n;continue}if(r>0){for(var A=m+n,S=a[A*2],D=a[A*2+1];S===c&&D===p&&b<e;)b++,A+=n,m+=n,S=a[A*2],D=a[A*2+1],c=a[m*2],p=a[m*2+1],d=c-s,k=p-h;var L=b+1;if(u)for(;W(S,D)&&L<e;)L++,A+=n,S=a[A*2],D=a[A*2+1];var w=.5,C=0,P=0,_=void 0,T=void 0;if(L>=e||W(S,D))f=c,y=p;else{C=S-s,P=D-h;var R=c-s,G=S-c,E=p-h,B=D-p,N=void 0,O=void 0;if(l==="x"){N=Math.abs(R),O=Math.abs(G);var z=C>0?1:-1;f=c-z*N*r,y=p,_=c+z*O*r,T=p}else if(l==="y"){N=Math.abs(E),O=Math.abs(B);var H=P>0?1:-1;f=c,y=p-H*N*r,_=c,T=p+H*O*r}else N=Math.sqrt(R*R+E*E),O=Math.sqrt(G*G+B*B),w=O/(O+N),f=c-C*r*(1-w),y=p-P*r*(1-w),_=c+C*r*w,T=p+P*r*w,_=$(_,j(S,c)),T=$(T,j(D,p)),_=j(_,$(S,c)),T=j(T,$(D,p)),C=_-c,P=T-p,f=c-C*N/O,y=p-P*N/O,f=$(f,j(s,c)),y=$(y,j(h,p)),f=j(f,$(s,c)),y=j(y,$(h,p)),C=c-f,P=p-y,_=c+C*O/N,T=p+P*O/N}i.bezierCurveTo(v,g,f,y,c,p),v=_,g=T}else i.lineTo(c,p)}s=c,h=p,m+=n}return b}var Tt=function(){function i(){this.smooth=0,this.smoothConstraint=!0}return i}(),Ia=function(i){J(a,i);function a(t){var e=i.call(this,t)||this;return e.type="ec-polyline",e}return a.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},a.prototype.getDefaultShape=function(){return new Tt},a.prototype.buildPath=function(t,e){var o=e.points,n=0,r=o.length/2;if(e.connectNulls){for(;r>0&&W(o[r*2-2],o[r*2-1]);r--);for(;n<r&&W(o[n*2],o[n*2+1]);n++);}for(;n<r;)n+=at(t,o,n,r,r,1,e.smooth,e.smoothMonotone,e.connectNulls)+1},a.prototype.getPointOn=function(t,e){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var o=this.path,n=o.data,r=Ft.CMD,l,u,s=e==="x",h=[],v=0;v<n.length;){var g=n[v++],f=void 0,y=void 0,m=void 0,b=void 0,c=void 0,p=void 0,d=void 0;switch(g){case r.M:l=n[v++],u=n[v++];break;case r.L:if(f=n[v++],y=n[v++],d=s?(t-l)/(f-l):(t-u)/(y-u),d<=1&&d>=0){var k=s?(y-u)*d+u:(f-l)*d+l;return s?[t,k]:[k,t]}l=f,u=y;break;case r.C:f=n[v++],y=n[v++],m=n[v++],b=n[v++],c=n[v++],p=n[v++];var A=s?nt(l,f,m,c,t,h):nt(u,y,b,p,t,h);if(A>0)for(var S=0;S<A;S++){var D=h[S];if(D<=1&&D>=0){var k=s?ot(u,y,b,p,D):ot(l,f,m,c,D);return s?[t,k]:[k,t]}}l=c,u=p;break}}},a}(wt),Ra=function(i){J(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a}(Tt),Ga=function(i){J(a,i);function a(t){var e=i.call(this,t)||this;return e.type="ec-polygon",e}return a.prototype.getDefaultShape=function(){return new Ra},a.prototype.buildPath=function(t,e){var o=e.points,n=e.stackedOnPoints,r=0,l=o.length/2,u=e.smoothMonotone;if(e.connectNulls){for(;l>0&&W(o[l*2-2],o[l*2-1]);l--);for(;r<l&&W(o[r*2],o[r*2+1]);r++);}for(;r<l;){var s=at(t,o,r,l,l,1,e.smooth,u,e.connectNulls);at(t,n,r+s-1,s,l,-1,e.stackedOnSmooth,u,e.connectNulls),r+=s+1,t.closePath()}},a}(wt);function yt(i,a){if(i.length===a.length){for(var t=0;t<i.length;t++)if(i[t]!==a[t])return;return!0}}function dt(i){for(var a=1/0,t=1/0,e=-1/0,o=-1/0,n=0;n<i.length;){var r=i[n++],l=i[n++];isNaN(r)||(a=Math.min(r,a),e=Math.max(r,e)),isNaN(l)||(t=Math.min(l,t),o=Math.max(l,o))}return[[a,t],[e,o]]}function bt(i,a){var t=dt(i),e=t[0],o=t[1],n=dt(a),r=n[0],l=n[1];return Math.max(Math.abs(e[0]-r[0]),Math.abs(e[1]-r[1]),Math.abs(o[0]-l[0]),Math.abs(o[1]-l[1]))}function St(i){return kt(i)?i:i?.5:0}function Va(i,a,t){if(!t.valueDim)return[];for(var e=a.count(),o=U(e*2),n=0;n<e;n++){var r=Ct(t,i,a,n);o[n*2]=r[0],o[n*2+1]=r[1]}return o}function M(i,a,t,e){var o=a.getBaseAxis(),n=o.dim==="x"||o.dim==="radius"?0:1,r=[],l=0,u=[],s=[],h=[],v=[];if(e){for(l=0;l<i.length;l+=2)!isNaN(i[l])&&!isNaN(i[l+1])&&v.push(i[l],i[l+1]);i=v}for(l=0;l<i.length-2;l+=2)switch(h[0]=i[l+2],h[1]=i[l+3],s[0]=i[l],s[1]=i[l+1],r.push(s[0],s[1]),t){case"end":u[n]=h[n],u[1-n]=s[1-n],r.push(u[0],u[1]);break;case"middle":var g=(s[n]+h[n])/2,f=[];u[n]=f[n]=g,u[1-n]=s[1-n],f[1-n]=h[1-n],r.push(u[0],u[1]),r.push(f[0],f[1]);break;default:u[n]=s[n],u[1-n]=h[1-n],r.push(u[0],u[1])}return r.push(i[l++],i[l++]),r}function Fa(i,a){var t=[],e=i.length,o,n;function r(h,v,g){var f=h.coord,y=(g-f)/(v.coord-f),m=qt(y,[h.color,v.color]);return{coord:g,color:m}}for(var l=0;l<e;l++){var u=i[l],s=u.coord;if(s<0)o=u;else if(s>a){n?t.push(r(n,u,a)):o&&t.push(r(o,u,0),r(o,u,a));break}else o&&(t.push(r(o,u,0)),o=null),t.push(u),n=u}return t}function Ba(i,a,t){var e=i.getVisual("visualMeta");if(!(!e||!e.length||!i.count())&&a.type==="cartesian2d"){for(var o,n,r=e.length-1;r>=0;r--){var l=i.getDimensionInfo(e[r].dimension);if(o=l&&l.coordDim,o==="x"||o==="y"){n=e[r];break}}if(n){var u=a.getAxis(o),s=et(n.stops,function(d){return{coord:u.toGlobalCoord(u.dataToCoord(d.value)),color:d.color}}),h=s.length,v=n.outerColors.slice();h&&s[0].coord>s[h-1].coord&&(s.reverse(),v.reverse());var g=Fa(s,o==="x"?t.getWidth():t.getHeight()),f=g.length;if(!f&&h)return s[0].coord<0?v[1]?v[1]:s[h-1].color:v[0]?v[0]:s[0].color;var y=10,m=g[0].coord-y,b=g[f-1].coord+y,c=b-m;if(c<.001)return"transparent";Lt(g,function(d){d.offset=(d.coord-m)/c}),g.push({offset:f?g[f-1].offset:.5,color:v[1]||"transparent"}),g.unshift({offset:f?g[0].offset:.5,color:v[0]||"transparent"});var p=new Wt(0,0,0,0,g,!0);return p[o]=m,p[o+"2"]=b,p}}}function za(i,a,t){var e=i.get("showAllSymbol"),o=e==="auto";if(!(e&&!o)){var n=t.getAxesByScale("ordinal")[0];if(n&&!(o&&Ha(n,a))){var r=a.mapDimension(n.dim),l={};return Lt(n.getViewLabels(),function(u){var s=n.scale.getRawOrdinalNumber(u.tickValue);l[s]=1}),function(u){return!l.hasOwnProperty(a.get(r,u))}}}}function Ha(i,a){var t=i.getExtent(),e=Math.abs(t[1]-t[0])/i.scale.count();isNaN(e)&&(e=0);for(var o=a.count(),n=Math.max(1,Math.round(o/5)),r=0;r<o;r+=n)if(Pt.getSymbolSize(a,r)[i.isHorizontal()?1:0]*1.5>e)return!1;return!0}function $a(i,a){return isNaN(i)||isNaN(a)}function ja(i){for(var a=i.length/2;a>0&&$a(i[a*2-2],i[a*2-1]);a--);return a-1}function Dt(i,a){return[i[a*2],i[a*2+1]]}function Ma(i,a,t){for(var e=i.length/2,o=t==="x"?0:1,n,r,l=0,u=-1,s=0;s<e;s++)if(r=i[s*2+o],!(isNaN(r)||isNaN(i[s*2+1-o]))){if(s===0){n=r;continue}if(n<=a&&r>=a||n>=a&&r<=a){u=s;break}l=s,n=r}return{range:[l,u],t:(a-n)/(r-n)}}function Ot(i){if(i.get(["endLabel","show"]))return!0;for(var a=0;a<gt.length;a++)if(i.get([gt[a],"endLabel","show"]))return!0;return!1}function tt(i,a,t,e){if(Ut(a,"cartesian2d")){var o=e.getModel("endLabel"),n=o.get("valueAnimation"),r=e.getData(),l={lastFrameIndex:0},u=Ot(e)?function(f,y){i._endLabelOnDuring(f,y,r,l,n,o,a)}:null,s=a.getBaseAxis().isHorizontal(),h=ca(a,t,e,function(){var f=i._endLabel;f&&t&&l.originalX!=null&&f.attr({x:l.originalX,y:l.originalY})},u);if(!e.get("clip",!0)){var v=h.shape,g=Math.max(v.width,v.height);s?(v.y-=g,v.height+=g*2):(v.x-=g,v.width+=g*2)}return u&&u(1,h),h}else return ga(a,t,e)}function Wa(i,a){var t=a.getBaseAxis(),e=t.isHorizontal(),o=t.inverse,n=e?o?"right":"left":"center",r=e?"middle":o?"top":"bottom";return{normal:{align:i.get("align")||n,verticalAlign:i.get("verticalAlign")||r}}}var Ua=function(i){J(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.prototype.init=function(){var t=new _t,e=new ma;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},a.prototype.render=function(t,e,o){var n=this,r=t.coordinateSystem,l=this.group,u=t.getData(),s=t.getModel("lineStyle"),h=t.getModel("areaStyle"),v=u.getLayout("points")||[],g=r.type==="polar",f=this._coordSys,y=this._symbolDraw,m=this._polyline,b=this._polygon,c=this._lineGroup,p=!e.ssr&&t.get("animation"),d=!h.isEmpty(),k=h.get("origin"),A=At(r,u,k),S=d&&Va(r,u,A),D=t.get("showSymbol"),L=t.get("connectNulls"),w=D&&!g&&za(t,u,r),C=this._data;C&&C.eachItemGraphicEl(function(I,Nt){I.__temp&&(l.remove(I),C.setItemGraphicEl(Nt,null))}),D||y.remove(),l.add(c);var P=g?!1:t.get("step"),_;r&&r.getArea&&t.get("clip",!0)&&(_=r.getArea(),_.width!=null?(_.x-=.1,_.y-=.1,_.width+=.2,_.height+=.2):_.r0&&(_.r0-=.5,_.r+=.5)),this._clipShapeForSymbol=_;var T=Ba(u,r,o)||u.getVisual("style")[u.getVisual("drawType")];if(!(m&&f.type===r.type&&P===this._step))D&&y.updateData(u,{isIgnore:w,clipShape:_,disableAnimation:!0,getSymbolPoint:function(I){return[v[I*2],v[I*2+1]]}}),p&&this._initSymbolLabelAnimation(u,r,_),P&&(v=M(v,r,P,L),S&&(S=M(S,r,P,L))),m=this._newPolyline(v),d?b=this._newPolygon(v,S):b&&(c.remove(b),b=this._polygon=null),g||this._initOrUpdateEndLabel(t,r,st(T)),c.setClipPath(tt(this,r,!0,t));else{d&&!b?b=this._newPolygon(v,S):b&&!d&&(c.remove(b),b=this._polygon=null),g||this._initOrUpdateEndLabel(t,r,st(T));var R=c.getClipPath();if(R){var G=tt(this,r,!1,t);Bt(R,{shape:G.shape},t)}else c.setClipPath(tt(this,r,!0,t));D&&y.updateData(u,{isIgnore:w,clipShape:_,disableAnimation:!0,getSymbolPoint:function(I){return[v[I*2],v[I*2+1]]}}),(!yt(this._stackedOnPoints,S)||!yt(this._points,v))&&(p?this._doUpdateAnimation(u,S,r,o,P,k,L):(P&&(v=M(v,r,P,L),S&&(S=M(S,r,P,L))),m.setShape({points:v}),b&&b.setShape({points:v,stackedOnPoints:S})))}var E=t.getModel("emphasis"),B=E.get("focus"),N=E.get("blurScope"),O=E.get("disabled");if(m.useStyle(lt(s.getLineStyle(),{fill:"none",stroke:T,lineJoin:"bevel"})),ut(m,t,"lineStyle"),m.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var z=m.getState("emphasis").style;z.lineWidth=+m.style.lineWidth+1}X(m).seriesIndex=t.seriesIndex,vt(m,B,N,O);var H=St(t.get("smooth")),q=t.get("smoothMonotone");if(m.setShape({smooth:H,smoothMonotone:q,connectNulls:L}),b){var V=u.getCalculationInfo("stackedOnSeries"),F=0;b.useStyle(lt(h.getAreaStyle(),{fill:T,opacity:.7,lineJoin:"bevel",decal:u.getVisual("style").decal})),V&&(F=St(V.get("smooth"))),b.setShape({smooth:H,stackedOnSmooth:F,smoothMonotone:q,connectNulls:L}),ut(b,t,"areaStyle"),X(b).seriesIndex=t.seriesIndex,vt(b,B,N,O)}var Z=function(I){n._changePolyState(I)};u.eachItemGraphicEl(function(I){I&&(I.onHoverStateChange=Z)}),this._polyline.onHoverStateChange=Z,this._data=u,this._coordSys=r,this._stackedOnPoints=S,this._points=v,this._step=P,this._valueOrigin=k,t.get("triggerLineEvent")&&(this.packEventData(t,m),b&&this.packEventData(t,b))},a.prototype.packEventData=function(t,e){X(e).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},a.prototype.highlight=function(t,e,o,n){var r=t.getData(),l=ht(r,n);if(this._changePolyState("emphasis"),!(l instanceof Array)&&l!=null&&l>=0){var u=r.getLayout("points"),s=r.getItemGraphicEl(l);if(!s){var h=u[l*2],v=u[l*2+1];if(isNaN(h)||isNaN(v)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(h,v))return;var g=t.get("zlevel")||0,f=t.get("z")||0;s=new Pt(r,l),s.x=h,s.y=v,s.setZ(g,f);var y=s.getSymbolPath().getTextContent();y&&(y.zlevel=g,y.z=f,y.z2=this._polyline.z2+1),s.__temp=!0,r.setItemGraphicEl(l,s),s.stopSymbolAnimation(!0),this.group.add(s)}s.highlight()}else Y.prototype.highlight.call(this,t,e,o,n)},a.prototype.downplay=function(t,e,o,n){var r=t.getData(),l=ht(r,n);if(this._changePolyState("normal"),l!=null&&l>=0){var u=r.getItemGraphicEl(l);u&&(u.__temp?(r.setItemGraphicEl(l,null),this.group.remove(u)):u.downplay())}else Y.prototype.downplay.call(this,t,e,o,n)},a.prototype._changePolyState=function(t){var e=this._polygon;ft(this._polyline,t),e&&ft(e,t)},a.prototype._newPolyline=function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new Ia({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(e),this._polyline=e,e},a.prototype._newPolygon=function(t,e){var o=this._polygon;return o&&this._lineGroup.remove(o),o=new Ga({shape:{points:t,stackedOnPoints:e},segmentIgnoreThreshold:2}),this._lineGroup.add(o),this._polygon=o,o},a.prototype._initSymbolLabelAnimation=function(t,e,o){var n,r,l=e.getBaseAxis(),u=l.inverse;e.type==="cartesian2d"?(n=l.isHorizontal(),r=!1):e.type==="polar"&&(n=l.dim==="angle",r=!0);var s=t.hostModel,h=s.get("animationDuration");x(h)&&(h=h(null));var v=s.get("animationDelay")||0,g=x(v)?v(null):v;t.eachItemGraphicEl(function(f,y){var m=f;if(m){var b=[f.x,f.y],c=void 0,p=void 0,d=void 0;if(o)if(r){var k=o,A=e.pointToCoord(b);n?(c=k.startAngle,p=k.endAngle,d=-A[1]/180*Math.PI):(c=k.r0,p=k.r,d=A[0])}else{var S=o;n?(c=S.x,p=S.x+S.width,d=f.x):(c=S.y+S.height,p=S.y,d=f.y)}var D=p===c?0:(d-c)/(p-c);u&&(D=1-D);var L=x(v)?v(y):h*D+g,w=m.getSymbolPath(),C=w.getTextContent();m.attr({scaleX:0,scaleY:0}),m.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:L}),C&&C.animateFrom({style:{opacity:0}},{duration:300,delay:L}),w.disableLabelAnimation=!0}})},a.prototype._initOrUpdateEndLabel=function(t,e,o){var n=t.getModel("endLabel");if(Ot(t)){var r=t.getData(),l=this._polyline,u=r.getLayout("points");if(!u){l.removeTextContent(),this._endLabel=null;return}var s=this._endLabel;s||(s=this._endLabel=new zt({z2:200}),s.ignoreClip=!0,l.setTextContent(this._endLabel),l.disableLabelAnimation=!0);var h=ja(u);h>=0&&(Ht(l,$t(t,"endLabel"),{inheritColor:o,labelFetcher:t,labelDataIndex:h,defaultText:function(v,g,f){return f!=null?ha(r,f):fa(r,v)},enableTextSetter:!0},Wa(n,e)),l.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},a.prototype._endLabelOnDuring=function(t,e,o,n,r,l,u){var s=this._endLabel,h=this._polyline;if(s){t<1&&n.originalX==null&&(n.originalX=s.x,n.originalY=s.y);var v=o.getLayout("points"),g=o.hostModel,f=g.get("connectNulls"),y=l.get("precision"),m=l.get("distance")||0,b=u.getBaseAxis(),c=b.isHorizontal(),p=b.inverse,d=e.shape,k=p?c?d.x:d.y+d.height:c?d.x+d.width:d.y,A=(c?m:0)*(p?-1:1),S=(c?0:-m)*(p?-1:1),D=c?"x":"y",L=Ma(v,k,D),w=L.range,C=w[1]-w[0],P=void 0;if(C>=1){if(C>1&&!f){var _=Dt(v,w[0]);s.attr({x:_[0]+A,y:_[1]+S}),r&&(P=g.getRawValue(w[0]))}else{var _=h.getPointOn(k,D);_&&s.attr({x:_[0]+A,y:_[1]+S});var T=g.getRawValue(w[0]),R=g.getRawValue(w[1]);r&&(P=jt(o,y,T,R,L.t))}n.lastFrameIndex=w[0]}else{var G=t===1||n.lastFrameIndex>0?w[0]:0,_=Dt(v,G);r&&(P=g.getRawValue(G)),s.attr({x:_[0]+A,y:_[1]+S})}if(r){var E=Mt(s);typeof E.setLabelText=="function"&&E.setLabelText(P)}}},a.prototype._doUpdateAnimation=function(t,e,o,n,r,l,u){var s=this._polyline,h=this._polygon,v=t.hostModel,g=Ea(this._data,t,this._stackedOnPoints,e,this._coordSys,o,this._valueOrigin),f=g.current,y=g.stackedOnCurrent,m=g.next,b=g.stackedOnNext;if(r&&(f=M(g.current,o,r,u),y=M(g.stackedOnCurrent,o,r,u),m=M(g.next,o,r,u),b=M(g.stackedOnNext,o,r,u)),bt(f,m)>3e3||h&&bt(y,b)>3e3){s.stopAnimation(),s.setShape({points:m}),h&&(h.stopAnimation(),h.setShape({points:m,stackedOnPoints:b}));return}s.shape.__points=g.current,s.shape.points=f;var c={shape:{points:m}};g.current!==f&&(c.shape.__points=g.next),s.stopAnimation(),ct(s,c,v),h&&(h.setShape({points:f,stackedOnPoints:y}),h.stopAnimation(),ct(h,{shape:{stackedOnPoints:b}},v),s.shape.points!==h.shape.points&&(h.shape.points=s.shape.points));for(var p=[],d=g.status,k=0;k<d.length;k++){var A=d[k].cmd;if(A==="="){var S=t.getItemGraphicEl(d[k].idx1);S&&p.push({el:S,ptIdx:k})}}s.animators&&s.animators.length&&s.animators[0].during(function(){h&&h.dirtyShape();for(var D=s.shape.__points,L=0;L<p.length;L++){var w=p[L].el,C=p[L].ptIdx*2;w.x=D[C],w.y=D[C+1],w.markRedraw()}})},a.prototype.remove=function(t){var e=this.group,o=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),o&&o.eachItemGraphicEl(function(n,r){n.__temp&&(e.remove(n),o.setItemGraphicEl(r,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},a.type="line",a}(Y);function qa(i,a){return{seriesType:i,plan:Jt(),reset:function(t){var e=t.getData(),o=t.coordinateSystem;if(t.pipelineContext,!!o){var n=et(o.dimensions,function(v){return e.mapDimension(v)}).slice(0,2),r=n.length,l=e.getCalculationInfo("stackResultDimension");K(e,n[0])&&(n[0]=l),K(e,n[1])&&(n[1]=l);var u=e.getStore(),s=e.getDimensionIndex(n[0]),h=e.getDimensionIndex(n[1]);return r&&{progress:function(v,g){for(var f=v.end-v.start,y=U(f*r),m=[],b=[],c=v.start,p=0;c<v.end;c++){var d=void 0;if(r===1){var k=u.get(s,c);d=o.dataToPoint(k,null,b)}else m[0]=u.get(s,c),m[1]=u.get(h,c),d=o.dataToPoint(m,null,b);y[p++]=d[0],y[p++]=d[1]}g.setLayout("points",y)}}}}}}function Ja(i){i.registerChartView(Ua),i.registerSeriesModel(Ta),i.registerLayout(qa("line")),i.registerVisual({seriesType:"line",reset:function(a){var t=a.getData(),e=a.getModel("lineStyle").getLineStyle();e&&!e.stroke&&(e.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",e)}}),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,pa("line"))}function Za({seriesItem:i,options:a,params:t}){var e;return{type:"line",areaStyle:{opacity:((e=i==null?void 0:i.areaStyle)==null?void 0:e.opacity)||(t.areaStyleOpacity===0?"0":t.areaStyleOpacity)||.2},emphasis:{focus:"series"},label:{show:!0},markLine:Qt()}}class Qa{constructor(a){rt(this,"option");var t;this.option={toolbox:Kt(a),tooltip:Xt(a),title:{text:"",left:"center",textStyle:{color:Q.$fontColor||Q.fontColor}},legend:{textStyle:{color:Q.$fontColor||Q.fontColor,fontSize:16},show:!0},grid:{top:50,left:50,right:50,bottom:50},xAxis:{type:"category",splitLine:{show:(t=a==null?void 0:a.xAxis)==null?void 0:t.splitLine},data:[],axisLabel:Yt},yAxis:{type:"value",...xt},series:[]}}}function Ka(i){const{data:a}=i,t=new Qa(i.params).option,e=Zt({},t,i.options);if(i.params.dataset&&a.length>1){const o={source:a,dimensions:Object.keys(a[0])};e.dataset=o,e.legend.data=Object.keys(a[0])}else e.xAxis.data=a&&a.xAxis||[],a&&a.series&&(e.series=a.series.map(o=>Object.assign({},o,Za({series:o,options:e,params:i.params})))||[]);return e}const Xa=["id"],Ya=da({__name:"index",props:{id:{type:String,default:null},height:{type:String,default:"500px"},width:{type:String,default:"100%"},showCheckbox:{type:Boolean,default:!0},showTips:{type:Boolean,default:!0},className:{type:String,default:null},options:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},params:{type:Object,default:()=>({})},loading:{type:Boolean,default:!1}},emits:ta,setup(i,{emit:a}){aa([ra,ia,na,oa,sa,ya,la,Ja]);const t=a,e=i,o=ba(()=>Ka(e)),n=Sa(null),{chart:r}=ea(n,o.value,e.data,t,e.loading);function l(h){Gt(o.value,h),r.value.setOption(o.value)}Da(()=>{r.value.setOption(o.value)});const{getPrefixCls:u}=ua(),s=u("line");return(h,v)=>(_a(),ka("div",{class:mt([`${Pa(s)}`])},[wa(Rt,{showTips:i.showTips,showCheckbox:i.showCheckbox,onSetShowLabel:l,style:pt({width:i.width})},null,8,["showTips","showCheckbox","style"]),La("div",{id:i.id,class:mt(i.className),style:pt({height:i.height,width:i.width}),ref_key:"lineChartRef",ref:n},null,14,Xa)],2))}}),xa=Aa(Ya,[["__scopeId","data-v-58c5acb7"]]),se=Ca(xa);export{se as v};
